videolan__vlc
commit e44764415a84ce86325298c6735381c0b14c197c
Author:     Grigori Goronzy <greg@chown.ath.cx>
AuthorDate: Wed Oct 5 23:10:28 2016 +0200
Commit:     Jean-Baptiste Kempf <jb@videolan.org>
CommitDate: Mon Oct 10 23:43:09 2016 +0200

    contrib: libass: update to 0.13.4
    
    Drop Solaris patch, merged upstream.
    Fixes CVE-2016-7969, CVE-2016-7970 and CVE-2016-7972.
    
    Signed-off-by: Jean-Baptiste Kempf <jb@videolan.org>

diff --git a/contrib/src/ass/SHA512SUMS b/contrib/src/ass/SHA512SUMS
index 9e6f41f38f..6ea61fc7e1 100644
--- a/contrib/src/ass/SHA512SUMS
+++ b/contrib/src/ass/SHA512SUMS
@@ -1 +1 @@
-cb90ab042f23c81d905a9bb1fd57c15133ba10ff3d0fb0afbfe09322016e0163419cc872095e4a73738d8ff27d80935bad0840cc5865f2720c55e8af3af41834  libass-0.13.2.tar.gz
+e927b2544636c08c48238699a4933844d4545df8772378acb42cbc3706e52f6c6a190a1b8117452debe784bfa25a1aaf7b102e22df0ecb1490bdd156b303781f  libass-0.13.4.tar.gz
diff --git a/contrib/src/ass/ass-solaris.patch b/contrib/src/ass/ass-solaris.patch
deleted file mode 100644
index 4e01b84f40..0000000000
--- a/contrib/src/ass/ass-solaris.patch
+++ /dev/null
@@ -1,11 +0,0 @@
---- libass/configure.ac.ORIG	Wed Jan  7 14:00:15 2015
-+++ libass/configure.ac	Thu Jul  2 18:57:07 2015
-@@ -70,7 +70,7 @@
-     AS_CASE([$host],
-         [*darwin*], [
-             ASFLAGS="$ASFLAGS -f macho$BITS -DPREFIX -DHAVE_ALIGNED_STACK=1" ],
--        [*linux*|*dragonfly*|*bsd*], [
-+        [*linux*|*dragonfly*|*bsd*|*solaris*], [
-             ASFLAGS="$ASFLAGS -f elf -DHAVE_ALIGNED_STACK=1" ],
-         [*cygwin*|*mingw*], [
-             ASFLAGS="$ASFLAGS -f win$BITS"
diff --git a/contrib/src/ass/rules.mak b/contrib/src/ass/rules.mak
index bd3b057003..61acbcbd87 100644
--- a/contrib/src/ass/rules.mak
+++ b/contrib/src/ass/rules.mak
@@ -1,5 +1,5 @@
 # ASS
-ASS_VERSION := 0.13.2
+ASS_VERSION := 0.13.4
 ASS_URL := https://github.com/libass/libass/releases/download/$(ASS_VERSION)/libass-$(ASS_VERSION).tar.gz
 
 PKGS += ass
@@ -41,7 +41,6 @@ $(TARBALLS)/libass-$(ASS_VERSION).tar.gz:
 libass: libass-$(ASS_VERSION).tar.gz .sum-ass
 	$(UNPACK)
 	$(APPLY) $(SRC)/ass/ass-macosx.patch
-	$(APPLY) $(SRC)/ass/ass-solaris.patch
 ifdef HAVE_WIN32
 	$(APPLY) $(SRC)/ass/use-topendir.patch
 endif
