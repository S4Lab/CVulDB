lede-project__source
commit 5886a5060a4cd17e87a60028d878525150075653
Author:     Hauke Mehrtens <hauke@hauke-m.de>
AuthorDate: Fri Aug 10 21:54:02 2018 +0200
Commit:     Hauke Mehrtens <hauke@hauke-m.de>
CommitDate: Fri Aug 10 22:56:50 2018 +0200

    mbedtls: update to version 2.7.5
    
    This fixes the following security problems:
    * CVE-2018-0497: Remote plaintext recovery on use of CBC based ciphersuites through a timing side-channel
    * CVE-2018-0498: Plaintext recovery on use of CBC based ciphersuites through a cache based side-channel
    
    Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de>

diff --git a/package/libs/mbedtls/Makefile b/package/libs/mbedtls/Makefile
index 80ec17b4e2..af9761042b 100644
--- a/package/libs/mbedtls/Makefile
+++ b/package/libs/mbedtls/Makefile
@@ -8,13 +8,13 @@
 include $(TOPDIR)/rules.mk
 
 PKG_NAME:=mbedtls
-PKG_VERSION:=2.7.3
+PKG_VERSION:=2.7.5
 PKG_RELEASE:=1
 PKG_USE_MIPS16:=0
 
 PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION)-gpl.tgz
 PKG_SOURCE_URL:=https://tls.mbed.org/download/
-PKG_HASH:=f1cd52824d1d5b4205c4255501764c5a02a77f029193683b3063bef584e97947
+PKG_HASH:=e9d797ded824e1ca7516faab7fa3c4c73c5bc3199b832a06f61ee8709df71a69
 
 PKG_BUILD_PARALLEL:=1
 PKG_LICENSE:=GPL-2.0+
diff --git a/package/libs/mbedtls/patches/300-soversion-compatibility.patch b/package/libs/mbedtls/patches/300-soversion-compatibility.patch
index 320482c7cd..dc957871ea 100644
--- a/package/libs/mbedtls/patches/300-soversion-compatibility.patch
+++ b/package/libs/mbedtls/patches/300-soversion-compatibility.patch
@@ -8,8 +8,8 @@ the new library with binaries compiled against the old library.
  
  if(USE_SHARED_MBEDTLS_LIBRARY)
      add_library(mbedcrypto SHARED ${src_crypto})
--    set_target_properties(mbedcrypto PROPERTIES VERSION 2.7.3 SOVERSION 2)
-+    set_target_properties(mbedcrypto PROPERTIES VERSION 2.7.3 SOVERSION 0)
+-    set_target_properties(mbedcrypto PROPERTIES VERSION 2.7.5 SOVERSION 2)
++    set_target_properties(mbedcrypto PROPERTIES VERSION 2.7.5 SOVERSION 0)
      target_link_libraries(mbedcrypto ${libs})
  
      add_library(mbedx509 SHARED ${src_x509})
