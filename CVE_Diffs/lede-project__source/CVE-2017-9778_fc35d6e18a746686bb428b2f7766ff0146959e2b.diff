lede-project__source
commit fc35d6e18a746686bb428b2f7766ff0146959e2b
Author:     Ryan Mounce <ryan@mounce.com.au>
AuthorDate: Sun Aug 6 14:22:18 2017 +0930
Commit:     Stijn Tintel <stijn@linux-ipv6.be>
CommitDate: Fri Sep 29 06:33:25 2017 +0300

    toolchain/gdb: update to version 8.0.1
    
    Fixes CVE-2017-9778.
    
    Signed-off-by: Ryan Mounce <ryan@mounce.com.au>
    [reference fixed CVE]
    Signed-off-by: Stijn Tintel <stijn@linux-ipv6.be>

diff --git a/toolchain/gdb/Makefile b/toolchain/gdb/Makefile
index 77e24f4609..abd6d033cc 100644
--- a/toolchain/gdb/Makefile
+++ b/toolchain/gdb/Makefile
@@ -17,11 +17,11 @@ PKG_HASH:=f47930161e9e99c46ab018dabbf56024739dda29c51f92495eaa0d4d7e3511f6
 GDB_DIR:=binutils-$(PKG_NAME)-$(PKG_VERSION)
 PATCH_DIR:=./patches-arc
 else
-PKG_VERSION:=7.12.1
+PKG_VERSION:=8.0.1
 
 PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.xz
 PKG_SOURCE_URL:=@GNU/gdb
-PKG_HASH:=4607680b973d3ec92c30ad029f1b7dbde3876869e6b3a117d8a7e90081113186
+PKG_HASH:=3dbd5f93e36ba2815ad0efab030dcd0c7b211d7b353a40a53f4c02d7d56295e3
 GDB_DIR:=$(PKG_NAME)-$(PKG_VERSION)
 endif
 
diff --git a/toolchain/gdb/patches/110-no_testsuite.patch b/toolchain/gdb/patches/110-no_testsuite.patch
index 68d1c90359..e86ba6d0cd 100644
--- a/toolchain/gdb/patches/110-no_testsuite.patch
+++ b/toolchain/gdb/patches/110-no_testsuite.patch
@@ -1,6 +1,6 @@
 --- a/gdb/configure
 +++ b/gdb/configure
-@@ -874,8 +874,7 @@ MAKEINFOFLAGS
+@@ -869,8 +869,7 @@ MAKEINFOFLAGS
  YACC
  YFLAGS
  XMKMF'
@@ -10,7 +10,7 @@
  multi-ice
  gdbserver'
  
-@@ -5617,7 +5616,7 @@ $as_echo "$with_auto_load_safe_path" >&6
+@@ -6473,7 +6472,7 @@ $as_echo "$with_auto_load_safe_path" >&6
  
  
  
diff --git a/toolchain/gdb/patches/120-fix-compile-flag-mismatch.patch b/toolchain/gdb/patches/120-fix-compile-flag-mismatch.patch
index 562902c50f..9ce91a024b 100644
--- a/toolchain/gdb/patches/120-fix-compile-flag-mismatch.patch
+++ b/toolchain/gdb/patches/120-fix-compile-flag-mismatch.patch
@@ -1,6 +1,6 @@
 --- a/gdb/gdbserver/configure
 +++ b/gdb/gdbserver/configure
-@@ -2476,7 +2476,7 @@ $as_echo "$as_me: error: \`$ac_var' was
+@@ -2469,7 +2469,7 @@ $as_echo "$as_me: error: \`$ac_var' was 
        ac_cache_corrupted=: ;;
      ,);;
      *)
