Canonical-kernel__Ubuntu-kernel
commit 2c6755454357a071ea1c9a779da1605f8727e0ab
Author:     Leann Ogasawara <leann.ogasawara@canonical.com>
AuthorDate: Sat Oct 10 02:05:22 2009 -0700
Commit:     Stefan Bader <stefan.bader@canonical.com>
CommitDate: Wed Oct 14 17:22:59 2009 +0200

    UBUNTU: Set CONFIG_DEFAULT_MMAP_MIN_ADDR=65536 and CONFIG_LSM_MMAP_MIN_ADDR=0 for custom binary flavours
    
    Ignore: yes
    
    These had to be enabled due to CVE-2009-2695
    
    Signed-off-by: Leann Ogasawara <leann.ogasawara@canonical.com>

diff --git a/debian/binary-custom.d/lpia/config.lpia b/debian/binary-custom.d/lpia/config.lpia
index 8abf7c2f303f..717717ceae0d 100644
--- a/debian/binary-custom.d/lpia/config.lpia
+++ b/debian/binary-custom.d/lpia/config.lpia
@@ -115,6 +115,8 @@ CONFIG_BLOCK=y
 # CONFIG_BLK_DEV_IO_TRACE is not set
 # CONFIG_LSF is not set
 # CONFIG_BLK_DEV_BSG is not set
+CONFIG_DEFAULT_MMAP_MIN_ADDR=65536
+CONFIG_LSM_MMAP_MIN_ADDR=0
 
 #
 # IO Schedulers
diff --git a/debian/binary-custom.d/lpiacompat/config.lpia b/debian/binary-custom.d/lpiacompat/config.lpia
index 77a8bc122899..2fbcefae0d07 100644
--- a/debian/binary-custom.d/lpiacompat/config.lpia
+++ b/debian/binary-custom.d/lpiacompat/config.lpia
@@ -115,6 +115,8 @@ CONFIG_LBD=y
 CONFIG_BLK_DEV_IO_TRACE=y
 # CONFIG_LSF is not set
 # CONFIG_BLK_DEV_BSG is not set
+CONFIG_DEFAULT_MMAP_MIN_ADDR=65536
+CONFIG_LSM_MMAP_MIN_ADDR=0
 
 #
 # IO Schedulers
diff --git a/debian/binary-custom.d/openvz/config.amd64 b/debian/binary-custom.d/openvz/config.amd64
index 0c502bb4b675..16dab05a2edd 100644
--- a/debian/binary-custom.d/openvz/config.amd64
+++ b/debian/binary-custom.d/openvz/config.amd64
@@ -120,6 +120,8 @@ CONFIG_BLOCK=y
 CONFIG_BLK_DEV_IO_TRACE=y
 # CONFIG_BLK_DEV_BSG is not set
 CONFIG_BLOCK_COMPAT=y
+CONFIG_DEFAULT_MMAP_MIN_ADDR=65536
+CONFIG_LSM_MMAP_MIN_ADDR=0
 
 #
 # IO Schedulers
diff --git a/debian/binary-custom.d/openvz/config.i386 b/debian/binary-custom.d/openvz/config.i386
index 9d4aaa64eb39..0b88aa4e9b87 100644
--- a/debian/binary-custom.d/openvz/config.i386
+++ b/debian/binary-custom.d/openvz/config.i386
@@ -124,6 +124,8 @@ CONFIG_LBD=y
 CONFIG_BLK_DEV_IO_TRACE=y
 # CONFIG_LSF is not set
 # CONFIG_BLK_DEV_BSG is not set
+CONFIG_DEFAULT_MMAP_MIN_ADDR=65536
+CONFIG_LSM_MMAP_MIN_ADDR=0
 
 #
 # IO Schedulers
diff --git a/debian/binary-custom.d/rt/config.amd64 b/debian/binary-custom.d/rt/config.amd64
index 07dabca15f15..2233845898db 100644
--- a/debian/binary-custom.d/rt/config.amd64
+++ b/debian/binary-custom.d/rt/config.amd64
@@ -120,6 +120,8 @@ CONFIG_BLOCK=y
 CONFIG_BLK_DEV_IO_TRACE=y
 # CONFIG_BLK_DEV_BSG is not set
 CONFIG_BLOCK_COMPAT=y
+CONFIG_DEFAULT_MMAP_MIN_ADDR=65536
+CONFIG_LSM_MMAP_MIN_ADDR=0
 
 #
 # IO Schedulers
diff --git a/debian/binary-custom.d/rt/config.i386 b/debian/binary-custom.d/rt/config.i386
index c5f46a92e90c..afcc5eea4666 100644
--- a/debian/binary-custom.d/rt/config.i386
+++ b/debian/binary-custom.d/rt/config.i386
@@ -124,6 +124,8 @@ CONFIG_LBD=y
 CONFIG_BLK_DEV_IO_TRACE=y
 # CONFIG_LSF is not set
 # CONFIG_BLK_DEV_BSG is not set
+CONFIG_DEFAULT_MMAP_MIN_ADDR=65536
+CONFIG_LSM_MMAP_MIN_ADDR=0
 
 #
 # IO Schedulers
diff --git a/debian/binary-custom.d/xen/config.amd64 b/debian/binary-custom.d/xen/config.amd64
index 4726f38d92e0..d9d6bbc21950 100644
--- a/debian/binary-custom.d/xen/config.amd64
+++ b/debian/binary-custom.d/xen/config.amd64
@@ -111,6 +111,8 @@ CONFIG_BLOCK=y
 CONFIG_BLK_DEV_IO_TRACE=y
 # CONFIG_BLK_DEV_BSG is not set
 CONFIG_BLOCK_COMPAT=y
+CONFIG_DEFAULT_MMAP_MIN_ADDR=65536
+CONFIG_LSM_MMAP_MIN_ADDR=0
 
 #
 # IO Schedulers
diff --git a/debian/binary-custom.d/xen/config.i386 b/debian/binary-custom.d/xen/config.i386
index 9515386e122a..c387aa537b05 100644
--- a/debian/binary-custom.d/xen/config.i386
+++ b/debian/binary-custom.d/xen/config.i386
@@ -115,6 +115,8 @@ CONFIG_LBD=y
 CONFIG_BLK_DEV_IO_TRACE=y
 # CONFIG_LSF is not set
 # CONFIG_BLK_DEV_BSG is not set
+CONFIG_DEFAULT_MMAP_MIN_ADDR=65536
+CONFIG_LSM_MMAP_MIN_ADDR=0
 
 #
 # IO Schedulers
