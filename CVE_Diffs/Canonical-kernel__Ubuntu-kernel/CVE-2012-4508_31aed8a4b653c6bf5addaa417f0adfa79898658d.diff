Canonical-kernel__Ubuntu-kernel
commit 31aed8a4b653c6bf5addaa417f0adfa79898658d
Author:     Yongqiang Yang <xiaoqiangnk@gmail.com>
AuthorDate: Wed Jan 16 16:45:27 2013 +0000
Commit:     Tim Gardner <tim.gardner@canonical.com>
CommitDate: Wed Jan 16 10:03:54 2013 -0700

    ext4: quiet 'unused variables' compile warnings
    
    CVE-2012-4508
    
    BugLink: http://bugs.launchpad.net/bugs/1071314
    
    Unused variables was deleted.
    
    Signed-off-by: Yongqiang Yang <xiaoqiangnk@gmail.com>
    Signed-off-by: "Theodore Ts'o" <tytso@mit.edu>
    (cherry picked from commit 9331b6261058eb85ae7c57ab8ac279e7fdaa9f04)
    
    Signed-off-by: Luis Henriques <luis.henriques@canonical.com>
    Signed-off-by: Tim Gardner <tim.gardner@canonical.com>

diff --git a/fs/ext4/extents.c b/fs/ext4/extents.c
index 611647b28a4d..8ad9b56fe0f0 100644
--- a/fs/ext4/extents.c
+++ b/fs/ext4/extents.c
@@ -3109,12 +3109,10 @@ static int ext4_convert_unwritten_extents_endio(handle_t *handle,
 					      struct ext4_ext_path *path)
 {
 	struct ext4_extent *ex;
-	struct ext4_extent_header *eh;
 	int depth;
 	int err = 0;
 
 	depth = ext_depth(inode);
-	eh = path[depth].p_hdr;
 	ex = path[depth].p_ext;
 
 	ext_debug("ext4_convert_unwritten_extents_endio: inode %lu, logical"
diff --git a/fs/ext4/mballoc.c b/fs/ext4/mballoc.c
index b6adf68a5c02..d7d3962db310 100644
--- a/fs/ext4/mballoc.c
+++ b/fs/ext4/mballoc.c
@@ -4668,12 +4668,10 @@ void ext4_add_groupblocks(handle_t *handle, struct super_block *sb,
 	struct ext4_buddy e4b;
 	int err = 0, ret, blk_free_count;
 	ext4_grpblk_t blocks_freed;
-	struct ext4_group_info *grp;
 
 	ext4_debug("Adding block(s) %llu-%llu\n", block, block + count - 1);
 
 	ext4_get_group_no_and_offset(sb, block, &block_group, &bit);
-	grp = ext4_get_group_info(sb, block_group);
 	/*
 	 * Check to see if we are freeing blocks across a group
 	 * boundary.
