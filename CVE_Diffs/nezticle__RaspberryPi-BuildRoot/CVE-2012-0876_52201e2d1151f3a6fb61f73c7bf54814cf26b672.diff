nezticle__RaspberryPi-BuildRoot
commit 52201e2d1151f3a6fb61f73c7bf54814cf26b672
Author:     Gustavo Zacarias <gustavo@zacarias.com.ar>
AuthorDate: Tue Mar 27 19:58:07 2012 -0300
Commit:     Peter Korsgaard <jacmet@sunsite.dk>
CommitDate: Mon Apr 2 23:31:04 2012 +0200

    expat: security bump to version 2.1.0
    
    Fixes for CVE-2012-1147, CVE-2009-3720, CVE-2009-3560, CVE-2012-1148 and
    CVE-2012-0876.
    
    Signed-off-by: Gustavo Zacarias <gustavo@zacarias.com.ar>
    Signed-off-by: Peter Korsgaard <jacmet@sunsite.dk>

diff --git a/package/expat/expat-2.0.1-CVE-2009-3560.patch b/package/expat/expat-2.0.1-CVE-2009-3560.patch
deleted file mode 100644
index 7cadc47b0..000000000
--- a/package/expat/expat-2.0.1-CVE-2009-3560.patch
+++ /dev/null
@@ -1,14 +0,0 @@
-http://nvd.nist.gov/nvd.cfm?cvename=CVE-2009-3560
-
---- a/lib/xmlparse.c
-+++ b/lib/xmlparse.c
-@@ -3703,6 +3703,9 @@ doProlog(XML_Parser parser,
-         return XML_ERROR_UNCLOSED_TOKEN;
-       case XML_TOK_PARTIAL_CHAR:
-         return XML_ERROR_PARTIAL_CHAR;
-+      case -XML_TOK_PROLOG_S:
-+        tok = -tok;
-+        break;
-       case XML_TOK_NONE:
- #ifdef XML_DTD
-         /* for internal PE NOT referenced between declarations */
diff --git a/package/expat/expat.mk b/package/expat/expat.mk
index b179383ff..ea008db01 100644
--- a/package/expat/expat.mk
+++ b/package/expat/expat.mk
@@ -4,8 +4,8 @@
 #
 #############################################################
 
-EXPAT_VERSION = 2.0.1
-EXPAT_SITE = http://$(BR2_SOURCEFORGE_MIRROR).dl.sourceforge.net/sourceforge/expat
+EXPAT_VERSION = 2.1.0
+EXPAT_SITE = http://$(BR2_SOURCEFORGE_MIRROR).dl.sourceforge.net/project/expat/expat/$(EXPAT_VERSION)
 EXPAT_INSTALL_STAGING = YES
 EXPAT_INSTALL_STAGING_OPT = DESTDIR=$(STAGING_DIR) installlib
 EXPAT_INSTALL_TARGET_OPT = DESTDIR=$(TARGET_DIR) installlib
