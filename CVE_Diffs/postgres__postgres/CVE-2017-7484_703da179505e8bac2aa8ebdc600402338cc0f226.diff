postgres__postgres
commit 703da179505e8bac2aa8ebdc600402338cc0f226
Author:     Tom Lane <tgl@sss.pgh.pa.us>
AuthorDate: Mon May 8 11:18:40 2017 -0400
Commit:     Tom Lane <tgl@sss.pgh.pa.us>
CommitDate: Mon May 8 11:19:08 2017 -0400

    Fix possibly-uninitialized variable.
    
    Oversight in e2d4ef8de et al (my fault not Peter's).  Per buildfarm.
    
    Security: CVE-2017-7484

diff --git a/src/backend/utils/adt/rangetypes_selfuncs.c b/src/backend/utils/adt/rangetypes_selfuncs.c
index f356b40bd1..89d421e843 100644
--- a/src/backend/utils/adt/rangetypes_selfuncs.c
+++ b/src/backend/utils/adt/rangetypes_selfuncs.c
@@ -374,8 +374,8 @@ calc_hist_selectivity(TypeCacheEntry *typcache, VariableStatData *vardata,
 {
 	Datum	   *hist_values;
 	int			nhist;
-	Datum	   *length_hist_values;
-	int			length_nhist;
+	Datum	   *length_hist_values = NULL;
+	int			length_nhist = 0;
 	RangeBound *hist_lower;
 	RangeBound *hist_upper;
 	int			i;
