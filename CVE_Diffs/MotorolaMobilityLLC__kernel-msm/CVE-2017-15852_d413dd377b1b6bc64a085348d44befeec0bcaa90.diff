MotorolaMobilityLLC__kernel-msm
commit d413dd377b1b6bc64a085348d44befeec0bcaa90
Author:     Venu Yeshala <vyeshala@codeaurora.org>
AuthorDate: Mon May 29 14:20:29 2017 +0530
Commit:     PDO SCM Team <hudsoncm@motorola.com>
CommitDate: Mon Feb 26 01:03:53 2018 -0600

    msm: camera: isp: Avoid information leak in ISPIF
    
    Change the format specifier in a debug print for ISPIF base
    address to avoid information leak.
    
    Bug-id: A-36730614
    CVE-fixed: CVE-2017-15852
    CRs-fixed: 2046770
    Mot-CRs-fixed: (CR)
    
    Change-Id: I5aa3ae5ac4395318a1a2798fdfa1692fa68c47c6
    Signed-off-by: Venu Yeshala <vyeshala@codeaurora.org>
    Signed-off-by: Srikanth A R <arsrikan@motorola.com>
    Reviewed-on: https://gerrit.mot.com/1118215
    SLTApproved: Slta Waiver
    SME-Granted: SME Approvals Granted
    Tested-by: Jira Key
    Reviewed-by: Igor Kovalenko <igork@motorola.com>
    Submit-Approved: Jira Key
    (cherry picked from commit cf8fbe58764526fe2d91aa6df047af5827ecd094)

diff --git a/drivers/media/platform/msm/camera_v2/ispif/msm_ispif.c b/drivers/media/platform/msm/camera_v2/ispif/msm_ispif.c
index ff89fc6d632d..8ac90cefc4d5 100755
--- a/drivers/media/platform/msm/camera_v2/ispif/msm_ispif.c
+++ b/drivers/media/platform/msm/camera_v2/ispif/msm_ispif.c
@@ -425,7 +425,7 @@ static int msm_ispif_reset(struct ispif_device *ispif)
 			ispif->base + ISPIF_VFE_m_INTF_CMD_0(i));
 		msm_camera_io_w(ISPIF_STOP_INTF_IMMEDIATELY,
 			ispif->base + ISPIF_VFE_m_INTF_CMD_1(i));
-		pr_debug("%s: base %lx", __func__, (unsigned long)ispif->base);
+		pr_debug("%s: base %pK", __func__, ispif->base);
 		msm_camera_io_w(0, ispif->base +
 			ISPIF_VFE_m_PIX_INTF_n_CID_MASK(i, 0));
 		msm_camera_io_w(0, ispif->base +
