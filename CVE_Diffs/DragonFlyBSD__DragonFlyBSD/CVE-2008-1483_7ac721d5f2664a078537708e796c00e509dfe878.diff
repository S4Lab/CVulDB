DragonFlyBSD__DragonFlyBSD
commit 7ac721d5f2664a078537708e796c00e509dfe878
Author:     Peter Avalos <pavalos@dragonflybsd.org>
AuthorDate: Sat Apr 19 04:10:04 2008 +0000
Commit:     Peter Avalos <pavalos@dragonflybsd.org>
CommitDate: Sat Apr 19 04:10:04 2008 +0000

    Fix for CVE-2008-1483.
    
    Obtained-from: FreeBSD

diff --git a/crypto/openssh-4/channels.c b/crypto/openssh-4/channels.c
index c68ad6419f..1638a8a059 100644
--- a/crypto/openssh-4/channels.c
+++ b/crypto/openssh-4/channels.c
@@ -2904,9 +2904,6 @@ x11_create_display_inet(int x11_display_offset, int x11_use_localhost,
 				debug2("bind port %d: %.100s", port, strerror(errno));
 				close(sock);
 
-				if (ai->ai_next)
-					continue;
-
 				for (n = 0; n < num_socks; n++) {
 					close(socks[n]);
 				}
