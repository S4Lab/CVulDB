DragonFlyBSD__DragonFlyBSD
commit c4ed4ef9842a19c4c2ec406504a1d187a76c5408
Author:     Peter Avalos <pavalos@dragonflybsd.org>
AuthorDate: Sat Apr 19 04:09:23 2008 +0000
Commit:     Peter Avalos <pavalos@dragonflybsd.org>
CommitDate: Sat Apr 19 04:09:23 2008 +0000

    Fix for CVE-2008-1483.
    
    Obtained-from: FreeBSD

diff --git a/crypto/openssh-4/channels.c b/crypto/openssh-4/channels.c
index 2006353d40..e4ef9b7340 100644
--- a/crypto/openssh-4/channels.c
+++ b/crypto/openssh-4/channels.c
@@ -2905,9 +2905,6 @@ x11_create_display_inet(int x11_display_offset, int x11_use_localhost,
 				debug2("bind port %d: %.100s", port, strerror(errno));
 				close(sock);
 
-				if (ai->ai_next)
-					continue;
-
 				for (n = 0; n < num_socks; n++) {
 					close(socks[n]);
 				}
