MessiahAndrw__Stereoscopic-VLC
commit 7b75f68f17bbe31e4ff8c69fd5f19e9aabb8f040
Author:     Rémi Denis-Courmont <rem@videolan.org>
AuthorDate: Sat Sep 15 09:46:06 2007 +0000
Commit:     Rémi Denis-Courmont <rem@videolan.org>
CommitDate: Sat Sep 15 09:46:06 2007 +0000

    Remove auto-update. This is blatantly insecure.
    Other projects have had CVEs for much less than this (e.g. CVE-2006-4567)

diff --git a/modules/control/rc.c b/modules/control/rc.c
index f0b0514e3c..f874fb6f3e 100644
--- a/modules/control/rc.c
+++ b/modules/control/rc.c
@@ -747,10 +747,12 @@ static void Run( intf_thread_t *p_intf )
 
             Help( p_intf, b_longhelp );
         }
+#if 0
         else if( !strcmp( psz_cmd, "check-updates" ) )
         {
             checkUpdates( p_intf, psz_arg );
         }
+#endif
         else if( !strcmp( psz_cmd, "key" ) || !strcmp( psz_cmd, "hotkey" ) )
         {
             var_SetInteger( p_intf->p_libvlc, "key-pressed",
@@ -2056,6 +2058,7 @@ static input_item_t *parse_MRL( intf_thread_t *p_intf, char *psz_mrl )
     return p_item;
 }
 
+#if 0
 /*****************************************************************************
  * checkUpdates : check for updates
  ****************************************************************************/
@@ -2172,3 +2175,4 @@ static void checkUpdates( intf_thread_t *p_intf, char *psz_arg )
     }
     update_Delete( p_u );
 }
+#endif
diff --git a/src/libvlc.sym b/src/libvlc.sym
index 9bb795067d..064514dfde 100644
--- a/src/libvlc.sym
+++ b/src/libvlc.sym
@@ -318,14 +318,6 @@ tls_ServerDelete
 ToLocale
 unescape_URI
 unescape_URI_duplicate
-update_Check
-update_Delete
-update_download
-update_iterator_Action
-update_iterator_ChooseMirrorAndFile
-update_iterator_Delete
-update_iterator_New
-__update_New
 us_atof
 us_strtod
 utf8_fopen
diff --git a/src/misc/update.c b/src/misc/update.c
index c334c98104..5098695269 100644
--- a/src/misc/update.c
+++ b/src/misc/update.c
@@ -1,3 +1,4 @@
+#if 0
 /*****************************************************************************
  * update.c: VLC update and plugins download
  *****************************************************************************
@@ -1337,3 +1338,4 @@ void update_download_for_real( download_thread_t *p_this )
 
     vlc_object_destroy( p_this );
 }
+#endif
