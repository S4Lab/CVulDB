linux-test-project__ltp
commit f3cbd3403debbacd632dfdcf159b84c48892d36d
Author:     Petr Vorel <pvorel@suse.cz>
AuthorDate: Tue Mar 13 17:08:30 2018 +0100
Commit:     Petr Vorel <pvorel@suse.cz>
CommitDate: Tue Mar 13 17:08:30 2018 +0100

    cve: Fix compilation for non x86 architectures
    
    As CVE-2017-17053 is meant to be only for x86.
    
    Fixes: 3f2ff1490 ("Add regression test for CVE-2017-17053")
    
    Signed-off-by: Petr Vorel <pvorel@suse.cz>

diff --git a/testcases/cve/Makefile b/testcases/cve/Makefile
index 3a05dd4fe..2e3902ee4 100644
--- a/testcases/cve/Makefile
+++ b/testcases/cve/Makefile
@@ -34,6 +34,8 @@ meltdown: CFLAGS += -I$(abs_srcdir)/../realtime/include
 
 ifneq (,$(filter $(HOST_CPU),x86 x86_64))
 meltdown: CFLAGS += -msse2
+else
+FILTER_OUT_MAKE_TARGETS	+= cve-2017-17053
 endif
 
 cve-2017-17052:	CFLAGS += -pthread
