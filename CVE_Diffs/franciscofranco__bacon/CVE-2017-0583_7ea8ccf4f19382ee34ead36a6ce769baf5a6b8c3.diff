franciscofranco__bacon
commit 7ea8ccf4f19382ee34ead36a6ce769baf5a6b8c3
Author:     Tom Marshall <tdm.code@gmail.com>
AuthorDate: Fri Aug 4 20:29:40 2017 +0000
Commit:     Michael Bestas <mkbestas@lineageos.org>
CommitDate: Sun Aug 13 20:58:18 2017 +0300

    defconfig: msm: Disable CONFIG_CP_ACCESS
    
    Disable the cpaccess driver.
    This driver allows user space access to cpu registers.
    With this driver enabled, a CTS test causes the
    system to crash.
    
    Change-Id: Ib0d3d5a2f26defc8d34f9b275ebe246a4331fe56
    Fixes: CVE-2017-0583

diff --git a/arch/arm/configs/lineageos_find7_defconfig b/arch/arm/configs/lineageos_find7_defconfig
index 1ad1888062f..62be82a36af 100644
--- a/arch/arm/configs/lineageos_find7_defconfig
+++ b/arch/arm/configs/lineageos_find7_defconfig
@@ -96,6 +96,7 @@ CONFIG_ENABLE_VMALLOC_SAVING=y
 CONFIG_UACCESS_WITH_MEMCPY=y
 CONFIG_SECCOMP=y
 CONFIG_CC_STACKPROTECTOR=y
+# CONFIG_CP_ACCESS is not set
 CONFIG_USE_OF=y
 CONFIG_BUILD_ARM_APPENDED_DTB_IMAGE=y
 CONFIG_CPU_FREQ=y
diff --git a/arch/arm/configs/lineageos_n3_defconfig b/arch/arm/configs/lineageos_n3_defconfig
index 047a2d0a625..b6c3504eaf8 100644
--- a/arch/arm/configs/lineageos_n3_defconfig
+++ b/arch/arm/configs/lineageos_n3_defconfig
@@ -96,6 +96,7 @@ CONFIG_ENABLE_VMALLOC_SAVING=y
 CONFIG_UACCESS_WITH_MEMCPY=y
 CONFIG_SECCOMP=y
 CONFIG_CC_STACKPROTECTOR=y
+# CONFIG_CP_ACCESS is not set
 CONFIG_USE_OF=y
 CONFIG_BUILD_ARM_APPENDED_DTB_IMAGE=y
 CONFIG_CPU_FREQ=y
