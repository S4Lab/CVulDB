RobertCNelson__linux-stable-rcn-ee
commit ac422cd8edcc6cd1c6c58acc136354b4d25d804f
Author:     Christian Borntraeger <borntraeger@de.ibm.com>
AuthorDate: Fri Feb 13 00:25:10 2009 -0800
Commit:     Greg Kroah-Hartman <gregkh@suse.de>
CommitDate: Tue Feb 17 09:29:01 2009 -0800

    sparc: Enable syscall wrappers for 64-bit (CVE-2009-0029)
    
    [ Upstream commit 67605d6812691bbd2158d2f60259e0407611bc1b ]
    
    sparc64 needs sign-extended function parameters. We have to enable
    the system call wrappers.
    
    Signed-off-by: Christian Borntraeger <borntraeger@de.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/arch/sparc64/Kconfig b/arch/sparc64/Kconfig
index 3b96e70b4670..f4cbc1755b7d 100644
--- a/arch/sparc64/Kconfig
+++ b/arch/sparc64/Kconfig
@@ -14,6 +14,7 @@ config SPARC64
 	select HAVE_FUNCTION_TRACER
 	select HAVE_IDE
 	select HAVE_LMB
+	select HAVE_SYSCALL_WRAPPERS
 	select HAVE_ARCH_KGDB
 	select USE_GENERIC_SMP_HELPERS if SMP
 	select HAVE_ARCH_TRACEHOOK
