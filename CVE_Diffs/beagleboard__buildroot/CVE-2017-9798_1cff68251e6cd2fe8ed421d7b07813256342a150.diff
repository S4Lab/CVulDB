beagleboard__buildroot
commit 1cff68251e6cd2fe8ed421d7b07813256342a150
Author:     Bernd Kuhls <bernd.kuhls@t-online.de>
AuthorDate: Fri Oct 6 07:24:30 2017 +0200
Commit:     Arnout Vandecappelle (Essensium/Mind) <arnout@mind.be>
CommitDate: Fri Oct 6 18:41:57 2017 +0200

    package/apache: bump to version 2.4.28
    
    Fix for CVE-2017-9798 is included in this release, so this patch is
    removed.
    
    Signed-off-by: Bernd Kuhls <bernd.kuhls@t-online.de>
    [Update commit log: not a security bump]
    Signed-off-by: Arnout Vandecappelle (Essensium/Mind) <arnout@mind.be>

diff --git a/package/apache/0003-CVS-2017-9798.patch b/package/apache/0003-CVS-2017-9798.patch
deleted file mode 100644
index dc0a67a1b7..0000000000
--- a/package/apache/0003-CVS-2017-9798.patch
+++ /dev/null
@@ -1,30 +0,0 @@
-core: Disallow Methods' registration at run time (.htaccess), they may
-be used only if registered at init time (httpd.conf).
-
-Calling ap_method_register() in children processes is not the right scope
-since it won't be shared for all requests.
-
-git-svn-id: https://svn.apache.org/repos/asf/httpd/httpd/trunk@1807655 13f79535-47bb-0310-9956-ffa450edef68
-
-Fixes CVE-2017-9798: https://nvd.nist.gov/vuln/detail/CVE-2017-9798
-
-Downloaded from upstream repo:
-https://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/server/core.c?r1=1805223&r2=1807754&pathrev=1807754&view=patch
-
-Signed-off-by: Bernd Kuhls <bernd.kuhls@t-online.de>
-
---- a/server/core.c	2017/08/16 16:50:29	1805223
-+++ b/server/core.c	2017/09/08 13:13:11	1807754
-@@ -2266,6 +2266,12 @@
-             /* method has not been registered yet, but resource restriction
-              * is always checked before method handling, so register it.
-              */
-+            if (cmd->pool == cmd->temp_pool) {
-+                /* In .htaccess, we can't globally register new methods. */
-+                return apr_psprintf(cmd->pool, "Could not register method '%s' "
-+                                   "for %s from .htaccess configuration",
-+                                    method, cmd->cmd->name);
-+            }
-             methnum = ap_method_register(cmd->pool,
-                                          apr_pstrdup(cmd->pool, method));
-         }
diff --git a/package/apache/apache.hash b/package/apache/apache.hash
index f29ae45187..d5e985f678 100644
--- a/package/apache/apache.hash
+++ b/package/apache/apache.hash
@@ -1,2 +1,2 @@
-# From http://www.apache.org/dist/httpd/httpd-2.4.27.tar.bz2.sha256
-sha256 71fcc128238a690515bd8174d5330a5309161ef314a326ae45c7c15ed139c13a httpd-2.4.27.tar.bz2
+# From http://www.apache.org/dist/httpd/httpd-2.4.28.tar.bz2.sha256
+sha256 c1197a3a62a4ab5c584ab89b249af38cf28b4adee9c0106b62999fd29f920666 httpd-2.4.28.tar.bz2
diff --git a/package/apache/apache.mk b/package/apache/apache.mk
index 857e538346..d8f8580036 100644
--- a/package/apache/apache.mk
+++ b/package/apache/apache.mk
@@ -4,7 +4,7 @@
 #
 ################################################################################
 
-APACHE_VERSION = 2.4.27
+APACHE_VERSION = 2.4.28
 APACHE_SOURCE = httpd-$(APACHE_VERSION).tar.bz2
 APACHE_SITE = http://archive.apache.org/dist/httpd
 APACHE_LICENSE = Apache-2.0
