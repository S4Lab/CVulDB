arthurdejong__nss-pam-ldapd
commit b8d642ebaf3150ca4d8936c09c5eab433a18b26d
Author:     Arthur de Jong <arthur@arthurdejong.org>
AuthorDate: Sat Sep 8 16:00:08 2012 +0000
Commit:     Arthur de Jong <arthur@arthurdejong.org>
CommitDate: Sat Sep 8 16:00:08 2012 +0000

    install the default configuration file with reduced permissions (further protection for CVE-2009-1073) (r1704 from 0.8)
    
    git-svn-id: http://arthurdejong.org/svn/nss-pam-ldapd/nss-pam-ldapd-0.7@1756 ef36b2f9-881f-0410-afb5-c4e39611909c

diff --git a/Makefile.am b/Makefile.am
index 910659e..17ed173 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -49,7 +49,7 @@ install-nslcd_conf:
 	  echo "$(DESTDIR)$(NSLCD_CONF_PATH) already exists, install will not overwrite"; \
 	else \
 	  $(mkinstalldirs) `dirname $(DESTDIR)$(NSLCD_CONF_PATH)`; \
-	  $(INSTALL_DATA) $(srcdir)/nslcd.conf $(DESTDIR)$(NSLCD_CONF_PATH); \
+	  $(INSTALL) -m 600 $(srcdir)/nslcd.conf $(DESTDIR)$(NSLCD_CONF_PATH); \
 	fi
 uninstall-nslcd_conf:
 	-rm -f $(DESTDIR)$(NSLCD_CONF_PATH)
