arthurdejong__nss-pam-ldapd
commit 978e3fe703192f744e81c9bcf78f88e2004933a0
Author:     Arthur de Jong <arthur@arthurdejong.org>
AuthorDate: Fri Jun 15 21:29:05 2012 +0000
Commit:     Arthur de Jong <arthur@arthurdejong.org>
CommitDate: Fri Jun 15 21:29:05 2012 +0000

    install the default configuration file with reduced permissions (further protection for CVE-2009-1073)
    
    git-svn-id: http://arthurdejong.org/svn/nss-pam-ldapd/nss-pam-ldapd@1704 ef36b2f9-881f-0410-afb5-c4e39611909c

diff --git a/Makefile.am b/Makefile.am
index 42c35b7..ce55eb9 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -53,7 +53,7 @@ install-nslcd_conf:
 	  echo "$(DESTDIR)$(NSLCD_CONF_PATH) already exists, install will not overwrite"; \
 	else \
 	  $(mkinstalldirs) `dirname $(DESTDIR)$(NSLCD_CONF_PATH)`; \
-	  $(INSTALL_DATA) $(srcdir)/nslcd.conf $(DESTDIR)$(NSLCD_CONF_PATH); \
+	  $(INSTALL) -m 600 $(srcdir)/nslcd.conf $(DESTDIR)$(NSLCD_CONF_PATH); \
 	fi
 uninstall-nslcd_conf:
 	-rm -f $(DESTDIR)$(NSLCD_CONF_PATH)
