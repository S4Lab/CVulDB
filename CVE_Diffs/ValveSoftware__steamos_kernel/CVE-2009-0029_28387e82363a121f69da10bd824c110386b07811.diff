ValveSoftware__steamos_kernel
commit 28387e82363a121f69da10bd824c110386b07811
Author:     Christian Borntraeger <borntraeger@de.ibm.com>
AuthorDate: Fri Feb 13 01:08:47 2009 -0800
Commit:     Greg Kroah-Hartman <gregkh@suse.de>
CommitDate: Tue Feb 17 09:46:26 2009 -0800

    sparc: Enable syscall wrappers for 64-bit (CVE-2009-0029)
    
    [ Upstream commit 67605d6812691bbd2158d2f60259e0407611bc1b ]
    
    sparc64 needs sign-extended function parameters. We have to enable
    the system call wrappers.
    
    Signed-off-by: Christian Borntraeger <borntraeger@de.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

diff --git a/arch/sparc64/Kconfig b/arch/sparc64/Kconfig
index 36b4b7ab9cfb..b376667d5112 100644
--- a/arch/sparc64/Kconfig
+++ b/arch/sparc64/Kconfig
@@ -15,6 +15,7 @@ config SPARC64
 	select HAVE_FTRACE
 	select HAVE_IDE
 	select HAVE_LMB
+	select HAVE_SYSCALL_WRAPPERS
 	select HAVE_ARCH_KGDB
 	select USE_GENERIC_SMP_HELPERS if SMP
 	select HAVE_ARCH_TRACEHOOK
