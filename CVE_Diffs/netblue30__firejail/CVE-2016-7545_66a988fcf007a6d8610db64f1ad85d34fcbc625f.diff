netblue30__firejail
commit 66a988fcf007a6d8610db64f1ad85d34fcbc625f
Author:     netblue30 <netblue30@yahoo.com>
AuthorDate: Mon Sep 26 15:26:28 2016 -0400
Commit:     netblue30 <netblue30@yahoo.com>
CommitDate: Mon Sep 26 15:26:28 2016 -0400

    more CVE-2016-7545

diff --git a/src/firejail/sandbox.c b/src/firejail/sandbox.c
index 272737c0..a348add3 100644
--- a/src/firejail/sandbox.c
+++ b/src/firejail/sandbox.c
@@ -86,6 +86,7 @@ static void sandbox_handler(int sig){
 
 	// broadcast a SIGKILL
 	kill(-1, SIGKILL);
+#if 0	
 	int fd = open("/dev/tty", O_RDWR);
 	if (fd != -1) {
 		ioctl(fd, TCFLSH, TCIFLUSH);
@@ -96,6 +97,7 @@ static void sandbox_handler(int sig){
 		ioctl(1, TCFLSH, TCIFLUSH);
 		ioctl(2, TCFLSH, TCIFLUSH);
 	}
+#endif
 	exit(sig);
 }
 
@@ -906,6 +908,7 @@ int sandbox(void* sandbox_arg) {
 	}
 
 	int status = monitor_application(app_pid);	// monitor application
+#if 0	
 	int fd = open("/dev/tty", O_RDWR);
 	if (fd != -1) {
 		ioctl(fd, TCFLSH, TCIFLUSH);
@@ -916,6 +919,7 @@ int sandbox(void* sandbox_arg) {
 		ioctl(1, TCFLSH, TCIFLUSH);
 		ioctl(2, TCFLSH, TCIFLUSH);
 	}
+#endif
 
 	if (WIFEXITED(status)) {
 		// if we had a proper exit, return that exit status
