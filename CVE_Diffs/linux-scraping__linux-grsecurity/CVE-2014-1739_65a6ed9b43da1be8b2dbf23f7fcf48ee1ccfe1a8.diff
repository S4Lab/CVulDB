linux-scraping__linux-grsecurity
commit 65a6ed9b43da1be8b2dbf23f7fcf48ee1ccfe1a8
Author:     Brad Spengler <spender@grsecurity.net>
AuthorDate: Thu May 1 17:55:40 2014 -0400
Commit:     Mickaël Salaün <mic@digikod.net>
CommitDate: Thu May 1 17:55:40 2014 -0400

    grsec: Apply grsecurity-3.0-3.14.2-201405011752.patch
    
    commit e6abe3c923a2663c6599a22ef3db0e084ad067bf
    Author: Brad Spengler <spender@grsecurity.net>
    Date:   Thu May 1 17:46:13 2014 -0400
    
        Fix CVE-2014-1739, upstream vuln in media_enum_entities()
        Author Salva Peiró
        Date April 2014 - Discovery of the vulnerability.
        Impact The vulnerability discloses 200 bytes of kernel process stack.
        Affected Version From linux-2.6.38 to linux-3.15-rc3
        Bug Timespan 3 years: 2011-03-23 to 2014-04-29 commit 1651333b
    
        (Deleted) blog post at: http://speirofr.appspot.com/cve-2014-1739-kernel-infoleak-vulnerability-in-media_enum_entities.html
    
     drivers/media/media-device.c |    1 +
     1 files changed, 1 insertions(+), 0 deletions(-)
    
    commit 1d1e095be5e60f547aa6963be5afd8db7b6f4527
    Author: Brad Spengler <spender@grsecurity.net>
    Date:   Tue Apr 29 20:23:46 2014 -0400
    
        update gitignore
    
     tools/gcc/.gitignore |    1 +
     1 files changed, 1 insertions(+), 0 deletions(-)
    
    Signature-tree: 3d9e2365442d7cb664ff8a3e0b5671015e3484eb

diff --git a/drivers/media/media-device.c b/drivers/media/media-device.c
index d5a7a135f75d..703560fa5e73 100644
--- a/drivers/media/media-device.c
+++ b/drivers/media/media-device.c
@@ -93,6 +93,7 @@ static long media_device_enum_entities(struct media_device *mdev,
 	struct media_entity *ent;
 	struct media_entity_desc u_ent;
 
+	memset(&u_ent, 0, sizeof(u_ent));
 	if (copy_from_user(&u_ent.id, &uent->id, sizeof(u_ent.id)))
 		return -EFAULT;
 
diff --git a/tools/gcc/.gitignore b/tools/gcc/.gitignore
index 4c2c45caf567..1f0214ffbefa 100644
--- a/tools/gcc/.gitignore
+++ b/tools/gcc/.gitignore
@@ -1,2 +1,3 @@
 randomize_layout_seed.h
 size_overflow_hash.h
+size_overflow_hash_aux.h
